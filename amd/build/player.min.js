/**
 * Defines player script.
 *
 * @since      Moodle 2.0
 * @copyright  2023 Moodle India
 * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 */
define("mod_zatuk/player",["jquery","core/str","media_videojs/video-lazy","core/ajax"],(function($,Str,videojs,Ajax){return{load:function(args){var values=JSON.parse(args);const player=videojs(values.identifier);var myVideoPlayer=document.getElementById("mod_zatuk_form_video");player.src({src:values.src,type:"application/x-mpegURL"}),player.hlsQualitySelector({displayCurrentQuality:!0}),null!=myVideoPlayer&&(myVideoPlayer.onloadedmetadata=function(){},myVideoPlayer.addEventListener("loadedmetadata",(function(){$("#zatuk_duration").val(myVideoPlayer.duration.toFixed(0))}))),player.on("pause",(function(){var currenttime=player.currentTime(),lengthOfVideo=player.duration();Ajax.call([{methodname:"mod_zatukattempts",args:{moduleid:values.cm,courseid:values.course,duration:lengthOfVideo,currenttime:currenttime,event:"pause"}}])[0].done((function(){})).fail((function(){}))}))}}}));

//# sourceMappingURL=player.min.js.map